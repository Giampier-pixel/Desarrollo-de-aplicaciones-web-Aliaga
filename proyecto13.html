<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semana 13 - Dise√±o de APIs RESTful</title>
    <link rel="stylesheet" href="stylesp.css">
</head>
<header class="iron-header">
    <div class="container">
        <nav class="iron-nav">
            <div class="nav-center">
                <div class="nav-left">
                    <a href="index.html">INICIO</a>
                    <a href="index.html#sobre-mi">SOBRE M√ç</a>
                </div>
                <div class="iron-logo">PORTAFOLIO</div>
                <div class="nav-right">
                    <a href="index.html#proyectos">CUADERNO</a>
                    <a href="index.html#proyectos-principales">PROYECTOS</a>
                </div>
            </div>
        </nav>
    </div>
</header>
<body>
    <div class="container">
    <div class="week-navigation">
        <a href="proyecto12.html" class="week-button">Semana Anterior</a>
        <a href="proyecto14.html" class="week-button">Semana Siguiente</a>
    </div>
        
        <div class="header">
            SEMANA 13
        </div>
        
        <div class="header-subtitle">
            Dise√±o de APIs RESTful
        </div>

        <!-- Temas Aprendidos -->
        <div class="section">
            <h2>Temas Aprendidos</h2>
            
            <div class="topics-buttons">
                <span class="topic-button" onclick="showTopicDetail('rest')">REST & APIs</span>
                <span class="topic-button" onclick="showTopicDetail('hateoas')">HATEOAS</span>
                <span class="topic-button" onclick="showTopicDetail('serialization')">Serializaci√≥n</span>
                <span class="topic-button" onclick="showTopicDetail('filtering')">Filtrado & Paginaci√≥n</span>
                <span class="topic-button" onclick="showTopicDetail('security')">Seguridad</span>
                <span class="topic-button" onclick="showTopicDetail('routing')">Ruteadores</span>
            </div>

            <div class="topics-description">
                <p>En esta semana exploramos los fundamentos del dise√±o de APIs RESTful y su implementaci√≥n en sistemas web backend. Los temas abordados incluyen los principios REST, implementaci√≥n de HATEOAS, t√©cnicas de serializaci√≥n de datos, sistemas de filtrado y paginaci√≥n, aspectos de seguridad como CSRF y CORS, y gesti√≥n avanzada de rutas y vistas.</p>
            </div>

            <div id="topicDetail" class="exercise-card" style="display: none;">
                <h3 id="topicTitle"></h3>
                <div id="topicContent"></div>
            </div>
        </div>

        <!-- Ejercicios y Resultados -->
<!-- Ejercicios y Resultados -->
<div class="section">
    <h2>Ejercicios y Resultados</h2>
    
    <div class="exercises-container">
        <div class="exercise-card">
            <h3>1. Creaci√≥n de Proyecto Web PHP Laravel - Sistema de Estudiantes</h3>
            
            <div class="code-container" data-lang="PHP Laravel">
                <strong>Configuraci√≥n del Proyecto:</strong>
                
                <div style="margin: 10px 0; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 8px; border-left: 4px solid #f56565;">
                    <h4 style="color: #f56565; margin-bottom: 10px;">üóÑÔ∏è Base de Datos MySQL (Aiven)</h4>
                    <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 5px; font-family: monospace;">
                        <div>Host: estudiantes-db-1-flask21e12ed.e.aivencloud.com</div>
                        <div>Usuario: avnadmin</div>
                        <div>Base de Datos: defaultdb</div>
                        <div>Puerto: 24967</div>
                    </div>
                </div>
                
                <div style="margin: 10px 0; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 8px; border-left: 4px solid #4299e1;">
                    <h4 style="color: #4299e1; margin-bottom: 10px;">üìã Estructura del Modelo</h4>
                    <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 5px;">
                        <strong>Tabla: estudiantes</strong>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>idEstudiante (Primary Key)</li>
                            <li>nomEstudiante (VARCHAR)</li>
                            <li>dirEstudiante (VARCHAR)</li>
                            <li>ciuEstudiante (VARCHAR)</li>
                            <li>timestamps (created_at, updated_at)</li>
                        </ul>
                    </div>
                </div>
                
                <div style="margin: 10px 0; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 8px; border-left: 4px solid #48bb78;">
                    <h4 style="color: #48bb78; margin-bottom: 10px;">üé® Frontend con Tailwind CSS</h4>
                    <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 5px;">
                        <strong>Formulario de Registro:</strong>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>Campo Nombre (requerido)</li>
                            <li>Campo Direcci√≥n (requerido)</li>
                            <li>Campo Ciudad (requerido)</li>
                            <li>Bot√≥n de env√≠o</li>
                            <li>Dise√±o responsive centrado</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="exercise-card">
            <h3>2. Demo Interactiva - Simulador de Formulario</h3>
            
            <div class="demo-container">
                <h4>Formulario de Registro de Estudiantes</h4>
                <div class="demo-form">
                    <form id="estudianteForm" onsubmit="submitEstudiante(event)" style="max-width: 400px; margin: 0 auto;">
                        <div style="margin-bottom: 15px;">
                            <input type="text" id="nombre" name="nombre" placeholder="Nombre del Estudiante" 
                                   required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; 
                                   background: rgba(255,255,255,0.9); font-size: 14px;">
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <input type="text" id="direccion" name="direccion" placeholder="Direcci√≥n" 
                                   required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; 
                                   background: rgba(255,255,255,0.9); font-size: 14px;">
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <input type="text" id="ciudad" name="ciudad" placeholder="Ciudad" 
                                   required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; 
                                   background: rgba(255,255,255,0.9); font-size: 14px;">
                        </div>
                        
                        <button type="submit" style="width: 100%; background: #4299e1; color: white; padding: 12px; 
                                border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: all 0.3s;">
                            Registrar Estudiante
                        </button>
                    </form>
                </div>
                
                <div class="result-display" id="estudianteOutput" style="margin-top: 20px;">
                    <p style="color: #68d391;">Completa el formulario para simular el registro...</p>
                </div>
            </div>
        </div>

        <div class="exercise-card">
            <h3>3. Arquitectura MVC Laravel</h3>
            
            <div class="django-demo">
                <div class="demo-section">
                    <div class="demo-title">Rutas (web.php)</div>
                    <div style="font-size: 0.9em; color: #68d391;">
                        GET / ‚Üí formulario<br>
                        POST /guardar ‚Üí store
                    </div>
                </div>
                
                <div class="demo-section">
                    <div class="demo-title">Controlador</div>
                    <div style="font-size: 0.9em; color: #68d391;">
                        EstudianteController<br>
                        create() & store()
                    </div>
                </div>
                
                <div class="demo-section">
                    <div class="demo-title">Modelo</div>
                    <div style="font-size: 0.9em; color: #68d391;">
                        Estudiante.php<br>
                        Eloquent ORM
                    </div>
                </div>
                
                <div class="demo-section">
                    <div class="demo-title">Vista</div>
                    <div style="font-size: 0.9em; color: #68d391;">
                        formulario.blade.php<br>
                        Tailwind CSS
                    </div>
                </div>
            </div>
        </div>

        <div class="exercise-card">
            <h3>4. Estad√≠sticas del Sistema</h3>
            
            <div class="django-demo">
                <div class="demo-section">
                    <div class="demo-title">Estudiantes Registrados</div>
                    <div id="totalEstudiantes" style="font-size: 2em; font-weight: bold; color: #4299e1;">127</div>
                </div>
                
                <div class="demo-section">
                    <div class="demo-title">Ciudades Activas</div>
                    <div id="ciudadesActivas" style="font-size: 2em; font-weight: bold; color: #48bb78;">15</div>
                </div>
                
                <div class="demo-section">
                    <div class="demo-title">Registros Hoy</div>
                    <div id="registrosHoy" style="font-size: 2em; font-weight: bold; color: #f39c12;">8</div>
                </div>
                
                <div class="demo-section">
                    <div class="demo-title">Base de Datos</div>
                    <div style="font-size: 1.2em; font-weight: bold; color: #e53e3e;">MySQL Aiven</div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
async function submitEstudiante(event) {
    event.preventDefault();
    
    const nombre = document.getElementById('nombre').value;
    const direccion = document.getElementById('direccion').value;
    const ciudad = document.getElementById('ciudad').value;
    
    const output = document.getElementById('estudianteOutput');
    
    try {
        // Llamada real a la API
        const response = await fetch('/api/connection.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                nombre: nombre,
                direccion: direccion,
                ciudad: ciudad
            })
        });
        
        const result = await response.json();
        
        if (result.success) {
            output.innerHTML = `
                <div style="background: rgba(72, 187, 120, 0.2); padding: 15px; border-radius: 8px; border-left: 4px solid #48bb78;">
                    <h4 style="color: #48bb78; margin-bottom: 10px;">‚úÖ ${result.message}</h4>
                    <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 5px; font-family: monospace; font-size: 14px;">
                        <div><strong>ID:</strong> ${result.id}</div>
                        <div><strong>Nombre:</strong> ${nombre}</div>
                        <div><strong>Direcci√≥n:</strong> ${direccion}</div>
                        <div><strong>Ciudad:</strong> ${ciudad}</div>
                        <div><strong>Base de Datos:</strong> MySQL Aiven ‚úì</div>
                    </div>
                </div>
            `;
            
            // Limpiar formulario
            document.getElementById('estudianteForm').reset();
            
            // Actualizar estad√≠sticas
            loadEstadisticas();
            
        } else {
            throw new Error(result.message);
        }
        
    } catch (error) {
        output.innerHTML = `
            <div style="background: rgba(245, 101, 101, 0.2); padding: 15px; border-radius: 8px; border-left: 4px solid #f56565;">
                <h4 style="color: #f56565;">‚ùå Error al registrar</h4>
                <p>${error.message}</p>
            </div>
        `;
    }
}

// Funci√≥n para cargar estad√≠sticas reales
async function loadEstadisticas() {
    try {
        const response = await fetch('/api/connection.php');
        const result = await response.json();
        
        if (result.success) {
            document.getElementById('totalEstudiantes').textContent = result.data.total_estudiantes;
            document.getElementById('ciudadesActivas').textContent = result.data.ciudades_activas;
            document.getElementById('registrosHoy').textContent = result.data.registros_hoy;
        }
    } catch (error) {
        console.error('Error al cargar estad√≠sticas:', error);
    }
}

// Cargar estad√≠sticas al cargar la p√°gina
document.addEventListener('DOMContentLoaded', loadEstadisticas);
</script>

        <!-- Reflexi√≥n Final -->
        <div class="section reflection">
            <h2>Reflexi√≥n Final</h2>
            
            <div class="reflection-question">
                <strong>¬øCu√°l fue el concepto m√°s desafiante de esta semana?</strong>
            </div>
            <div class="reflection-answer">
                El concepto m√°s desafiante fue definitivamente <strong>HATEOAS</strong> (Hypermedia as the Engine of Application State). Inicialmente parec√≠a una complejidad innecesaria, pero al implementarlo comprend√≠ su valor para crear APIs verdaderamente RESTful que son autodescriptivas y facilitan la navegaci√≥n program√°tica.
            </div>
            
            <div class="reflection-question">
                <strong>¬øC√≥mo aplicar√≠as estos conocimientos en un proyecto real?</strong>
            </div>
            <div class="reflection-answer">
                Los principios REST son fundamentales para cualquier aplicaci√≥n web moderna. La implementaci√≥n de sistemas de paginaci√≥n, filtrado y serializaci√≥n permite crear APIs eficientes que pueden manejar grandes vol√∫menes de datos. La seguridad con CSRF y CORS es esencial para proteger las aplicaciones en producci√≥n.
            </div>
            
            <div class="reflection-question">
                <strong>¬øQu√© aspecto te result√≥ m√°s interesante?</strong>
            </div>
            <div class="reflection-answer">
                Me result√≥ fascinante c√≥mo los conceptos de <strong>serializaci√≥n</strong> y <strong>filtrado</strong> se combinan para crear APIs realmente potentes. La capacidad de transformar modelos de datos en formatos JSON estructurados, combinada con sistemas de paginaci√≥n inteligente, permite crear experiencias de usuario fluidas y eficientes.
            </div>
            
            <div class="reflection-text">
                <strong>Impacto en mi desarrollo profesional:</strong> Esta semana ha solidificado mi comprensi√≥n de c√≥mo dise√±ar y desarrollar APIs que no solo funcionen, sino que sean escalables, seguras y mantenibles. Los principios aprendidos son directamente aplicables en proyectos reales y me han dado la confianza para abordar el desarrollo de sistemas backend m√°s complejos.
            </div>
            
            <div class="reflection-text">
                <strong>Pr√≥ximos pasos:</strong> Planeo profundizar en tecnolog√≠as como GraphQL como alternativa a REST, explorar patrones de microservicios y continuar mejorando mis habilidades en el dise√±o de arquitecturas de sistemas distribuidos.
            </div>
        </div>
    </div>

        <script src="script13.js"></script>
</body>
</html>