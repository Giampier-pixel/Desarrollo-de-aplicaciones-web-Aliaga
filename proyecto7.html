
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semana 7</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --dark-gradient: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            --success-gradient: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            --warning-gradient: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-attachment: fixed;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 4px solid;
            border-image: var(--primary-gradient) 1;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-link {
            text-decoration: none;
            color: #666;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .main {
            padding-top: 100px;
            padding-bottom: 50px;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 60px;
            color: white;
        }

        .avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 30px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            margin-bottom: 40px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }

        .card-header {
            background: var(--primary-gradient);
            color: white;
            padding: 25px 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .card-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0;
        }

        .card-body {
            padding: 30px;
        }

        .tech-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .badge {
            background: var(--primary-gradient);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .badge:hover {
            transform: scale(1.05);
        }

        .exercise {
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #f0f0f0;
        }

        .exercise:last-child {
            border-bottom: none;
        }

        .exercise-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .code-block {
            background: #1a1a1a;
            color: #00ff00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 15px 0;
            border: 1px solid #333;
        }

        .demo-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #e9ecef;
        }

        .button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .button-secondary {
            background: var(--secondary-gradient);
        }

        .button-success {
            background: var(--success-gradient);
        }

        .input {
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            margin: 5px;
            transition: border-color 0.3s ease;
        }

        .input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .counter-display {
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
            color: #667eea;
        }

        .todo-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .todo-completed {
            opacity: 0.6;
            text-decoration: line-through;
        }

        .profile-card {
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            margin: 15px 0;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .profile-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
        }

        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
        }

        .skill-tag {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
        }

        .back-button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
            color: white;
            text-decoration: none;
        }

        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            .hero-title {
                font-size: 2rem;
            }
            .two-columns {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="index.html" class="logo">
                    <i class="fab fa-react"></i>
                    Portafolio
                </a>
                
                <ul class="nav-links">
                    <li><a class="nav-link" href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a class="nav-link" href="index.html#sobre-mi"><i class="fas fa-user"></i> Sobre mí</a></li>
                    <li><a class="nav-link" href="index.html#proyectos"><i class="fas fa-project-diagram"></i> Proyectos</a></li>
                    <li><a class="nav-link" href="index.html#contactame"><i class="fas fa-envelope"></i> Contáctame</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Contenedor principal donde React se montará -->
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useContext, useRef, useReducer, useCallback, useMemo, createContext } = React;

        // Context para el ejercicio 3
        const ThemeContext = createContext();

        // Reducer para el ejercicio 2
        const todoReducer = (state, action) => {
            switch (action.type) {
                case 'ADD_TODO':
                    return [...state, { id: Date.now(), text: action.payload, completed: false }];
                case 'TOGGLE_TODO':
                    return state.map(todo => 
                        todo.id === action.payload 
                            ? { ...todo, completed: !todo.completed }
                            : todo
                    );
                case 'DELETE_TODO':
                    return state.filter(todo => todo.id !== action.payload);
                default:
                    return state;
            }
        };

        // Componente Hero reutilizable
        const HeroSection = ({ title, subtitle, avatarName }) => {
            return (
                <div className="hero-section">
                    <img 
                        src={`https://ui-avatars.com/api/?name=${avatarName}&size=120&background=667eea&color=ffffff&bold=true`}
                        alt="Avatar" 
                        className="avatar"
                    />
                    <h1 className="hero-title">{title}</h1>
                    <p className="hero-subtitle">{subtitle}</p>
                </div>
            );
        };

        // Ejercicio 1: useState, useEffect, useRef, useCallback, useMemo
        const HooksBasics = () => {
            const [count, setCount] = useState(0);
            const [name, setName] = useState('');
            const [windowWidth, setWindowWidth] = useState(window.innerWidth);
            const inputRef = useRef(null);
            const renderCount = useRef(0);

            // useEffect para el resize del window
            useEffect(() => {
                const handleResize = () => setWindowWidth(window.innerWidth);
                window.addEventListener('resize', handleResize);
                return () => window.removeEventListener('resize', handleResize);
            }, []);

            // useEffect para contar renders
            useEffect(() => {
                renderCount.current += 1;
            });

            // useCallback para optimizar funciones
            const handleIncrement = useCallback(() => {
                setCount(prev => prev + 1);
            }, []);

            const handleDecrement = useCallback(() => {
                setCount(prev => prev - 1);
            }, []);

            const focusInput = useCallback(() => {
                inputRef.current?.focus();
            }, []);

            // useMemo para cálculos costosos
            const expensiveValue = useMemo(() => {
                console.log('Calculando valor costoso...');
                return count * count * count;
            }, [count]);

            const isEven = useMemo(() => count % 2 === 0, [count]);

            return (
                <div className="exercise">
                    <h4 className="exercise-title">
                        <i className="fas fa-code"></i>
                        1. useState, useEffect, useRef, useCallback, useMemo
                    </h4>
                    
                    <div className="code-block">
                        <pre>{`const [count, setCount] = useState(0);
const [name, setName] = useState('');
const inputRef = useRef(null);

// useEffect para window resize
useEffect(() => {
    const handleResize = () => setWindowWidth(window.innerWidth);
    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
}, []);

// useCallback para optimizar funciones
const handleIncrement = useCallback(() => {
    setCount(prev => prev + 1);
}, []);

// useMemo para cálculos costosos
const expensiveValue = useMemo(() => {
    return count * count * count;
}, [count]);`}</pre>
                    </div>
                    
                    <div className="demo-container">
                        <div className="counter-display">Contador: {count}</div>
                        
                        <div style={{textAlign: 'center', marginBottom: '20px'}}>
                            <button className="button" onClick={handleIncrement}>
                                Incrementar
                            </button>
                            <button className="button button-secondary" onClick={handleDecrement}>
                                Decrementar
                            </button>
                        </div>

                        <div className="two-columns">
                            <div>
                                <h6><strong>useState & useRef:</strong></h6>
                                <input 
                                    ref={inputRef}
                                    className="input"
                                    type="text" 
                                    value={name}
                                    onChange={(e) => setName(e.target.value)}
                                    placeholder="Escribe tu nombre"
                                />
                                <button className="button" onClick={focusInput}>
                                    Enfocar Input
                                </button>
                                {name && <p>Hola, {name}! 👋</p>}
                            </div>
                            
                            <div>
                                <h6><strong>useMemo & useEffect:</strong></h6>
                                <p>Valor cúbico: <strong>{expensiveValue}</strong></p>
                                <p>Es par: <strong>{isEven ? 'Sí' : 'No'}</strong></p>
                                <p>Ancho ventana: <strong>{windowWidth}px</strong></p>
                                <p>Renders: <strong>{renderCount.current}</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Ejercicio 2: useReducer
        const TodoManager = () => {
            const [todos, dispatch] = useReducer(todoReducer, []);
            const [inputValue, setInputValue] = useState('');

            const addTodo = () => {
                if (inputValue.trim()) {
                    dispatch({ type: 'ADD_TODO', payload: inputValue });
                    setInputValue('');
                }
            };

            const toggleTodo = (id) => {
                dispatch({ type: 'TOGGLE_TODO', payload: id });
            };

            const deleteTodo = (id) => {
                dispatch({ type: 'DELETE_TODO', payload: id });
            };

            const completedCount = todos.filter(todo => todo.completed).length;
            const totalCount = todos.length;

            return (
                <div className="exercise">
                    <h4 className="exercise-title">
                        <i className="fas fa-tasks"></i>
                        useReducer - Gestor de Tareas
                    </h4>
                    
                    <div className="code-block">
                        <pre>{`const todoReducer = (state, action) => {
    switch (action.type) {
        case 'ADD_TODO':
            return [...state, { id: Date.now(), text: action.payload, completed: false }];
        case 'TOGGLE_TODO':
            return state.map(todo => 
                todo.id === action.payload 
                    ? { ...todo, completed: !todo.completed }
                    : todo
            );
        case 'DELETE_TODO':
            return state.filter(todo => todo.id !== action.payload);
        default:
            return state;
    }
};

const [todos, dispatch] = useReducer(todoReducer, []);`}</pre>
                    </div>
                    
                    <div className="demo-container">
                        <div style={{marginBottom: '20px'}}>
                            <input 
                                className="input"
                                type="text"
                                value={inputValue}
                                onChange={(e) => setInputValue(e.target.value)}
                                placeholder="Nueva tarea..."
                                onKeyPress={(e) => e.key === 'Enter' && addTodo()}
                            />
                            <button className="button" onClick={addTodo}>
                                Agregar Tarea
                            </button>
                        </div>

                        <div style={{marginBottom: '20px', textAlign: 'center'}}>
                            <strong>Total: {totalCount} | Completadas: {completedCount}</strong>
                        </div>

                        {todos.map(todo => (
                            <div key={todo.id} className="todo-item">
                                <span 
                                    className={todo.completed ? 'todo-completed' : ''}
                                    style={{cursor: 'pointer'}}
                                    onClick={() => toggleTodo(todo.id)}
                                >
                                    {todo.completed ? '✅' : '⏳'} {todo.text}
                                </span>
                                <button 
                                    className="button button-secondary"
                                    onClick={() => deleteTodo(todo.id)}
                                    style={{padding: '8px 12px', fontSize: '0.8rem'}}
                                >
                                    Eliminar
                                </button>
                            </div>
                        ))}

                        {todos.length === 0 && (
                            <p style={{textAlign: 'center', color: '#666', fontStyle: 'italic'}}>
                                No hay tareas. ¡Agrega una nueva!
                            </p>
                        )}
                    </div>
                </div>
            );
        };

        // Ejercicio 3: useContext
        const ThemeProvider = ({ children }) => {
            const [theme, setTheme] = useState('light');
            const [user, setUser] = useState({ name: 'Giampier Aliaga', role: 'Desarrollador' });

            const toggleTheme = () => {
                setTheme(prev => prev === 'light' ? 'dark' : 'light');
            };

            const contextValue = {
                theme,
                user,
                toggleTheme,
                setUser
            };

            return (
                <ThemeContext.Provider value={contextValue}>
                    {children}
                </ThemeContext.Provider>
            );
        };

        const ThemeCard = () => {
            const { theme, user, toggleTheme } = useContext(ThemeContext);

            const cardStyle = {
                background: theme === 'light' 
                    ? 'linear-gradient(145deg, #ffffff, #f0f0f0)' 
                    : 'linear-gradient(145deg, #2d3748, #1a202c)',
                color: theme === 'light' ? '#333' : '#fff',
                borderRadius: '15px',
                padding: '25px',
                boxShadow: theme === 'light' 
                    ? '0 10px 25px rgba(0,0,0,0.1)' 
                    : '0 10px 25px rgba(0,0,0,0.3)',
                transition: 'all 0.3s ease'
            };

            return (
                <div style={cardStyle}>
                    <div className="profile-header">
                        <img 
                            src={`https://ui-avatars.com/api/?name=${user.name}&size=60&background=${theme === 'light' ? '667eea' : 'f093fb'}&color=ffffff`}
                            alt={user.name}
                            className="profile-avatar"
                        />
                        <div>
                            <h4 style={{margin: '0 0 5px 0'}}>{user.name}</h4>
                            <p style={{margin: 0, opacity: 0.7}}>{user.role}</p>
                        </div>
                    </div>
                    
                    <div style={{marginBottom: '20px'}}>
                        <p><strong>Tema actual:</strong> {theme === 'light' ? '☀️ Claro' : '🌙 Oscuro'}</p>
                        <p><strong>Estado:</strong> {theme === 'light' ? 'Trabajando' : 'Descansando'}</p>
                    </div>

                    <button 
                        className="button"
                        onClick={toggleTheme}
                        style={{
                            background: theme === 'light' 
                                ? 'var(--primary-gradient)' 
                                : 'var(--secondary-gradient)'
                        }}
                    >
                        Cambiar a tema {theme === 'light' ? 'oscuro' : 'claro'}
                    </button>
                </div>
            );
        };

        const ContextDemo = () => {
            return (
                <div className="exercise">
                    <h4 className="exercise-title">
                        <i className="fas fa-globe"></i>
                        useContext - Contexto Global
                    </h4>
                    
                    <div className="code-block">
                        <pre>{`const ThemeContext = createContext();

const ThemeProvider = ({ children }) => {
    const [theme, setTheme] = useState('light');
    const [user, setUser] = useState({ name: 'Giampier', role: 'Dev' });
    
    const toggleTheme = () => {
        setTheme(prev => prev === 'light' ? 'dark' : 'light');
    };
    
    return (
        <ThemeContext.Provider value={{ theme, user, toggleTheme }}>
            {children}
        </ThemeContext.Provider>
    );
};

const ThemeCard = () => {
    const { theme, user, toggleTheme } = useContext(ThemeContext);
    // Componente que consume el contexto
};`}</pre>
                    </div>
                    
                    <div className="demo-container">
                        <ThemeProvider>
                            <ThemeCard />
                        </ThemeProvider>
                    </div>
                </div>
            );
        };

        // Componente principal de la aplicación
        const App = () => {
            return (
                <main className="main">
                    <div className="container">
                        
                        {/* Back Button */}
                        <a href="index.html#proyectos" className="back-button">
                            <i className="fas fa-arrow-left"></i>
                            <span>Volver a proyectos</span>
                        </a>
                        
                        {/* Hero Section */}
                        <HeroSection 
                            title="Semana 7"
                            subtitle="Uso de Hooks"
                            avatarName="Giampier+Aliaga"
                        />
                        
                        {/* Temas Aprendidos */}
                        <div className="card">
                            <div className="card-header">
                                <i className="fab fa-react"></i>
                                <h2 className="card-title">Temas Aprendidos</h2>
                            </div>
                            <div className="card-body">
                                <div className="tech-badges">
                                    <button className="badge">useState</button>
                                    <button className="badge">useEffect</button>
                                    <button className="badge">useContext</button>
                                    <button className="badge">useRef</button>
                                    <button className="badge">useReducer</button>
                                    <button className="badge">useCallback</button>
                                    <button className="badge">useMemo</button>
                                </div>
                                
                                <p style={{fontSize: '1.1rem', color: '#666', marginBottom: '20px'}}>
                                Esta semana aprendí sobre los Hooks en React, como useState, useEffect, useContext, useRef, useReducer, 
                                useCallback y useMemo, que ayudan a manejar el estado y el comportamiento de los componentes de forma 
                                más clara. También vimos cómo crear Hooks personalizados para reutilizar lógica. Me pareció interesante 
                                cómo hacen que el código sea más limpio y fácil de mantener.
                                </p>
                            </div>
                        </div>

                        {/* Ejercicios */}
                        <div className="card">
                            <div className="card-header">
                                <i className="fas fa-code"></i>
                                <h2 className="card-title">Ejercicios y Resultados</h2>
                            </div>
                            <div className="card-body">
                                
                                {/* Ejercicio 1 */}
                                <HooksBasics />
                                
                                {/* Ejercicio 2 */}
                                <TodoManager />
                                
                                {/* Ejercicio 3 */}
                                <ContextDemo />
                                
                            </div>
                        </div>

                        {/* Reflexión Final */}
                        <div className="row mb-5">
                            <div className="col-12">
                                <div className="card border-0 custom-shadow hover-lift bg-white">
                                    <div className="card-header bg-gradient-to-r from-pink-600 to-rose-600 text-white border-0">
                                        <div className="d-flex align-items-center">
                                            <i className="fas fa-lightbulb fs-4 me-3"></i>
                                            <h2 className="card-title mb-0 fs-3 fw-bold">Reflexión Final</h2>
                                        </div>
                                    </div>
                                    <div className="card-body p-4">
                                        <div className="row">
                                            <div className="col-lg-8">
                                                <p className="text-muted mb-4">
                                                Durante esta semana, al explorar los Hooks de React, fui consciente de cómo mi comprensión del manejo 
                                                de estados y ciclos de vida en componentes ha evolucionado. Al principio me resultó complejo diferenciar 
                                                cuándo usar cada Hook, pero al practicar y comparar sus usos en distintos ejemplos, desarrollé una mejor
                                                intuición sobre su aplicación. Esta experiencia me hizo reflexionar sobre la importancia de escribir código 
                                                reutilizable y organizado.
                                                </p>
                                                <h5 className="fw-bold mb-3 text-gray-800">¿Qué aprendí?</h5>
                                                <p className="text-muted mb-4">
                                                Aprendí a utilizar los Hooks de React para gestionar el estado y efectos en los componentes de manera eficiente.
                                                </p>
                                                
                                                <h5 className="fw-bold mb-3 text-gray-800">¿Cómo aprendí?</h5>
                                                <p className="text-muted mb-4">
                                                Aprendí practicando con ejemplos y analizando cómo se comporta cada Hook.
                                                </p>

                                                <div className="row">
                                                    <div className="col-md-6">

                                                    </div>
                                                    <div className="col-md-6">

                                                    </div>
                                                </div>
                                                
                                                <div className="mt-4 p-3 bg-light rounded">

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </main>
            );
        };

        // Renderizar la aplicación
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
